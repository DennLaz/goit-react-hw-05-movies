{"version":3,"file":"static/js/550.49f4aa74.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/module/SearchMovies/SearchMovieForm/searchMovieForm.module.css?6ef6","module/SearchMovies/SearchMovieForm/SearchMovieForm.jsx","module/SearchMovies/SearchMovies.jsx","pages/MoviesPage/MoviesPage.jsx","shared/api/movies.js","webpack://react-homework-template/./src/shared/components/MovieList/movieList.module.css?1a76","shared/components/MovieList/MovieList.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"searchMovieForm_form__6FrTN\",\"lable\":\"searchMovieForm_lable__s5JuG\",\"button\":\"searchMovieForm_button__5x0eS\",\"input\":\"searchMovieForm_input__kjLqM\"};","import PropTypes from 'prop-types';\n\nimport { useState } from 'react';\n\nimport styles from './searchMovieForm.module.css';\n\nconst SearchMoviesForm = ({ onSubmit }) => {\n  const [state, setState] = useState({\n    search: '',\n  });\n\n  const headleChange = ({ target }) => {\n    const { name, value } = target;\n    setState(prevState => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  const headleSubmit = e => {\n    e.preventDefault();\n    onSubmit({ ...state });\n    setState({ search: '' });\n  };\n\n  return (\n    <form className={styles.form} onSubmit={headleSubmit}>\n      <label className={styles.lable}>\n        <input\n          className={styles.input}\n          onChange={headleChange}\n          type=\"text\"\n          name=\"search\"\n          value={state.search}\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          required\n          placeholder=\"Serch movie\"\n        />\n      </label>\n      <button className={styles.button} type=\"submit\">Search</button>\n    </form>\n  );\n};\n\nSearchMoviesForm.defaultProps = {\n  onSubmit: () => { }, \n}\n\nSearchMoviesForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n}\n\nexport default SearchMoviesForm;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport SearchMovieForm from './SearchMovieForm';\nimport MovieList from 'shared/components/MovieList';\nimport { searchMovie } from '../../shared/api/movies';\n\n\nconst SearchMovies = () => {\n  const [state, setState] = useState({\n    items: [],\n    loading: false,\n    error: null,\n  });\n\n  const { items } = state;\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const search = searchParams.get('query');\n\n  useEffect(() => {\n    const fetchMovie = async () => {\n      setState(prevState => ({\n        ...prevState,\n        loading: true,\n        error: false,\n      }));\n\n      try {\n        const { results } = await searchMovie(search);\n        setState(prevState => ({\n          ...prevState,\n          loading: false,\n          items: results,\n        }));\n      } catch (error) {\n        setState(prevState => ({\n          ...prevState,\n          loading: false,\n          error,\n        }));\n      }\n    };\n    if (search) {\n      fetchMovie();\n    }\n  }, [search]);\n\n  const changeSerch = ({ search }) => setSearchParams({ query: search });\n\n  return (\n    <div className=\"container\">\n      <SearchMovieForm onSubmit={changeSerch} />\n      <MovieList items={items} />\n    </div>\n  );\n};\n\nexport default SearchMovies;\n","import SearchMovies from 'module/SearchMovies';\n\nconst MoviesPage = () => {\n    return (\n        <main>\n               <SearchMovies />\n        </main>\n    )\n}\n\nexport default MoviesPage;","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n});\n\nconst APIKEY = 'a4558d71f5b7095b04316fd2e31fa3af';\n\nexport const getTrending = async (page = 1) => {\n  const {\n    data: { results },\n  } = await instance.get('trending/movie/day', {\n    params: {\n      api_key: APIKEY,\n      page,\n    },\n  });\n  return results;\n};\n\nexport const getMovieDetailsById = async id => {\n  const { data } = await instance.get(`/movie/${id}`, {\n    params: {\n      api_key: APIKEY,\n    },\n  });\n  return data;\n};\n\nexport const searchMovie = async query => {\n  const { data } = await instance.get('search/movie', {\n    params: {\n      api_key: APIKEY,\n      query,\n    },\n  });\n  return data;\n};\n\nexport const getMovieDetailsByIdCredits = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`, {\n    params: {\n      api_key: APIKEY,\n    },\n  });\n  return data;\n};\n\nexport const getMovieDetailsByIdReviews = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`, {\n    params: {\n      api_key: APIKEY,\n    },\n  });\n  return data;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"movieList_list__snn+K\",\"item\":\"movieList_item__Lsbc6\"};","import PropTypes from 'prop-types';\n\nimport { Link, useLocation } from 'react-router-dom';\n\nimport styles from './movieList.module.css'\n\nconst MovieList = ({ items }) => {\nconst location =useLocation()\n\n  const elements = items.map(({ id, title }) => (\n    <li className={styles.item} key={id} >\n      <Link className={styles.list} to={`/movie/${id}`} state={{from: location}}>{title}</Link>\n    </li>\n  ));\n\n  return <ul>{elements}</ul>;\n};\n\nMovieList.defaultProps = {\n  items: [],\n}\n\nMovieList.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n  })),\n}\n\nexport default MovieList;\n"],"names":["SearchMoviesForm","onSubmit","useState","search","state","setState","className","styles","e","preventDefault","onChange","target","name","value","prevState","type","pattern","required","placeholder","defaultProps","items","loading","error","useSearchParams","searchParams","setSearchParams","get","useEffect","fetchMovie","searchMovie","results","SearchMovieForm","query","MovieList","instance","axios","baseURL","APIKEY","getTrending","page","params","api_key","data","getMovieDetailsById","id","getMovieDetailsByIdCredits","getMovieDetailsByIdReviews","location","useLocation","elements","map","title","to","from"],"sourceRoot":""}