{"version":3,"file":"static/js/30.f8223665.chunk.js","mappings":"qQACA,EAAuB,0BAAvB,EAAsD,wB,SCuDtD,EAjDoB,WAClB,OAA0BA,EAAAA,EAAAA,UAAS,CACjCC,MAAO,GACPC,SAAS,EACTC,MAAO,OAHT,eAAOC,EAAP,KAAcC,EAAd,KAMQJ,EAAUG,EAAVH,MAEAK,GAAOC,EAAAA,EAAAA,MAAPD,IAERE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAY,mCAAG,6FACnBJ,GAAS,SAAAK,GAAS,yBACbA,GADa,IAEhBR,SAAS,EACTC,OAAO,OAJU,mBAOSQ,EAAAA,EAAAA,IAA2BL,GAPpC,gBAOTM,EAPS,EAOTA,QACRP,GAAS,SAAAK,GAAS,yBACbA,GADa,IAEhBT,MAAOW,EACPV,SAAS,OAXM,gDAcjBG,GAAS,SAAAK,GAAS,yBACbA,GADa,IAEhBR,SAAS,EACTC,MAAK,UAjBU,yDAAH,qDAqBlBM,MACC,CAACH,IAEJ,IAAMO,EAAWZ,EAAMa,KAAI,gBAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,QAASV,EAApB,EAAoBA,GAApB,OACzB,2BACE,gBAAIW,UAAWC,EAAf,qBAAmCH,MACnC,cAAGE,UAAWC,EAAd,SAA4BF,MAFrBV,MAMX,OACE,wBACGO,EAASM,OAAS,EAAIN,GAAW,wE,iMClDlCO,E,MAAWC,GAAAA,OAAa,CAC5BC,QAAS,kCAGLC,EAAS,mCAEFC,EAAW,mCAAG,2GAAOC,EAAP,+BAAc,EAAd,SAGfL,EAASM,IAAI,qBAAsB,CAC3CC,OAAQ,CACNC,QAASL,EACTE,KAAAA,KANqB,uBAEfb,EAFe,EAEvBiB,KAAQjB,QAFe,kBASlBA,GATkB,2CAAH,qDAYXkB,EAAmB,mCAAG,WAAMxB,GAAN,yFACVc,EAASM,IAAT,iBAAuBpB,GAAM,CAClDqB,OAAQ,CACNC,QAASL,KAHoB,uBACzBM,EADyB,EACzBA,KADyB,kBAM1BA,GAN0B,2CAAH,sDASnBE,EAAW,mCAAG,WAAMC,GAAN,yFACFZ,EAASM,IAAI,eAAgB,CAClDC,OAAQ,CACNC,QAASL,EACTS,MAAAA,KAJqB,uBACjBH,EADiB,EACjBA,KADiB,kBAOlBA,GAPkB,2CAAH,sDAUXI,EAA0B,mCAAG,WAAM3B,GAAN,yFACjBc,EAASM,IAAT,iBAAuBpB,EAAvB,YAAqC,CAC1DqB,OAAQ,CACNC,QAASL,KAH2B,uBAChCM,EADgC,EAChCA,KADgC,kBAMjCA,GANiC,2CAAH,sDAS1BlB,EAA0B,mCAAG,WAAML,GAAN,yFACjBc,EAASM,IAAT,iBAAuBpB,EAAvB,YAAqC,CAC1DqB,OAAQ,CACNC,QAASL,KAH2B,uBAChCM,EADgC,EAChCA,KADgC,kBAMjCA,GANiC,2CAAH","sources":["webpack://react-homework-template/./src/pages/ReviewsPage/reviewsPage.module.css?a61b","pages/ReviewsPage/ReviewsPage.jsx","shared/api/movies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"text\":\"reviewsPage_text__XHMt+\",\"el\":\"reviewsPage_el__ZourP\"};","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport { getMovieDetailsByIdReviews } from '../../shared/api/movies';\n\nimport styles from './reviewsPage.module.css';\n\nconst ReviewsPage = () => {\n  const [state, setState] = useState({\n    items: [],\n    loading: false,\n    error: null,\n  });\n\n  const { items } = state;\n\n  const { id } = useParams();\n\n  useEffect(() => {\n    const fetchReviews = async () => {\n      setState(prevState => ({\n        ...prevState,\n        loading: true,\n        error: false,\n      }));\n      try {\n        const { results } = await getMovieDetailsByIdReviews(id);\n        setState(prevState => ({\n          ...prevState,\n          items: results,\n          loading: false,\n        }));\n      } catch (error) {\n        setState(prevState => ({\n          ...prevState,\n          loading: false,\n          error,\n        }));\n      }\n    };\n    fetchReviews();\n  }, [id]);\n\n  const elements = items.map(({ author, content, id }) => (\n    <li key={id}>\n      <h5 className={styles.el}>Author: {author}</h5>\n      <p className={styles.text}>{content}</p>\n    </li>\n  ));\n\n  return(\n    <ul>\n      {elements.length > 0 ? elements : <p>We don`t have any reviews for this movie</p>}\n  </ul>);\n};\n\nexport default ReviewsPage;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n});\n\nconst APIKEY = 'a4558d71f5b7095b04316fd2e31fa3af';\n\nexport const getTrending = async (page = 1) => {\n  const {\n    data: { results },\n  } = await instance.get('trending/movie/day', {\n    params: {\n      api_key: APIKEY,\n      page,\n    },\n  });\n  return results;\n};\n\nexport const getMovieDetailsById = async id => {\n  const { data } = await instance.get(`/movie/${id}`, {\n    params: {\n      api_key: APIKEY,\n    },\n  });\n  return data;\n};\n\nexport const searchMovie = async query => {\n  const { data } = await instance.get('search/movie', {\n    params: {\n      api_key: APIKEY,\n      query,\n    },\n  });\n  return data;\n};\n\nexport const getMovieDetailsByIdCredits = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`, {\n    params: {\n      api_key: APIKEY,\n    },\n  });\n  return data;\n};\n\nexport const getMovieDetailsByIdReviews = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`, {\n    params: {\n      api_key: APIKEY,\n    },\n  });\n  return data;\n};\n"],"names":["useState","items","loading","error","state","setState","id","useParams","useEffect","fetchReviews","prevState","getMovieDetailsByIdReviews","results","elements","map","author","content","className","styles","length","instance","axios","baseURL","APIKEY","getTrending","page","get","params","api_key","data","getMovieDetailsById","searchMovie","query","getMovieDetailsByIdCredits"],"sourceRoot":""}